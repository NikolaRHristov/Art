import*as t from"https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.module.js";const m=new t.Scene,w=new t.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),u=new t.WebGLRenderer({antialias:!0});u.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(u.domElement);const c=10,n=3,g=new t.TorusGeometry(c,3,100,100),x=new t.MeshBasicMaterial({color:8947848,wireframe:!0,transparent:!0,opacity:.2}),M=new t.Mesh(g,x);function z(e,n){const o=document.createElement("canvas");o.width=256,o.height=1;const i=o.getContext("2d"),a=i.createLinearGradient(0,0,256,0);return a.addColorStop(0,e),a.addColorStop(1,n),i.fillStyle=a,i.fillRect(0,0,256,1),new t.CanvasTexture(o)}function G(e,n,o,i){const a=new t.Shape;a.moveTo(0,-3),a.quadraticCurveTo(6,0,0,3),a.quadraticCurveTo(-6,0,0,-3);const s=new t.ShapeGeometry(a),r=new t.MeshBasicMaterial({map:z(o,i),side:t.DoubleSide,transparent:!0,opacity:.8}),d=new t.Mesh(s,r),h=(c+3*Math.cos(n))*Math.cos(e),w=(c+3*Math.cos(n))*Math.sin(e),u=3*Math.sin(n);return d.position.set(h,w,u),d.lookAt(M.position),d.rotateOnAxis(new t.Vector3(1,0,0),Math.PI/2),d}m.add(M);const p=[],a=20;for(let e=0;e<a;e++){const n=e/a*Math.PI*2,o=e/a*Math.PI*2,i=(new t.Color).setHSL(e/a,1,.5),s=(new t.Color).setHSL((e+.5)/a,1,.5),r=G(n,o,i.getStyle(),s.getStyle());m.add(r),p.push({mesh:r,u:n,v:o,speed:.005+.005*Math.random()})}function H(){w.aspect=window.innerWidth/window.innerHeight,w.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}function l(){requestAnimationFrame(l),p.forEach((e=>{e.u+=e.speed,e.v+=.5*e.speed;const n=(c+3*Math.cos(e.v))*Math.cos(e.u),o=(c+3*Math.cos(e.v))*Math.sin(e.u),i=3*Math.sin(e.v);e.mesh.position.set(n,o,i),e.mesh.lookAt(M.position),e.mesh.rotateOnAxis(new t.Vector3(1,0,0),Math.PI/2),e.mesh.renderOrder=Math.sin(e.u)+Math.cos(e.v)})),u.render(m,w)}w.position.z=30,window.addEventListener("resize",H,!1),l();