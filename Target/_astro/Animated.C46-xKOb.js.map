{"version":3,"file":"Animated.C46-xKOb.js","sources":["../../Source/Function/Page/Noise/Animated.tsx"],"sourcesContent":["import { createSignal, onCleanup, onMount } from \"solid-js\";\n\nexport default ({\n\tText,\n\tFont = 48,\n\tSizeX = 800,\n\tSizeY = 200,\n\tAnimation = 1,\n}: {\n\t// biome-ignore lint/suspicious/noExplicitAny:\n\tText: any;\n\tFont?: 48 | undefined;\n\tSizeX?: 800 | undefined;\n\tSizeY?: 200 | undefined;\n\tAnimation?: number;\n}) => {\n\t// biome-ignore lint/suspicious/noExplicitAny:\n\tlet canvasRef: any;\n\n\tconst [, setFrame] = createSignal(0);\n\n\tonMount(() => {\n\t\tconst canvas = canvasRef;\n\n\t\tif (!canvas) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst context = canvas.getContext(\"2d\");\n\n\t\tlet animationFrameId: number;\n\n\t\tconst noiseArrayR: number[] = [];\n\t\tconst noiseArrayG: number[] = [];\n\t\tconst noiseArrayB: number[] = [];\n\n\t\t// Initialize noise arrays\n\t\tfor (let i = 0; i < SizeX * SizeY; i++) {\n\t\t\tnoiseArrayR.push(Math.random());\n\t\t\tnoiseArrayG.push(Math.random());\n\t\t\tnoiseArrayB.push(Math.random());\n\t\t}\n\n\t\tconst render = () => {\n\t\t\tcontext.clearRect(0, 0, SizeX, SizeY);\n\n\t\t\t// Set font properties\n\t\t\tcontext.font = `${Font}px Arial`;\n\n\t\t\tcontext.textBaseline = \"middle\";\n\n\t\t\tcontext.textAlign = \"center\";\n\n\t\t\t// Create a path for the text\n\t\t\tcontext.fillStyle = \"black\";\n\n\t\t\tcontext.fillText(Text, SizeX / 2, SizeY / 2);\n\n\t\t\t// Get image data\n\t\t\tconst imageData = context.getImageData(0, 0, SizeX, SizeY);\n\n\t\t\tconst data = imageData.data;\n\n\t\t\t// Apply animated colorful noise function\n\t\t\tfor (let i = 0; i < data.length; i += 4) {\n\t\t\t\tif (data[i + 3] > 0) {\n\t\t\t\t\t// Only color non-transparent pixels\n\t\t\t\t\tconst noiseIndex = Math.floor(i / 4);\n\t\t\t\t\tdata[i] = noiseArrayR[noiseIndex] * 255; // Red\n\t\t\t\t\tdata[i + 1] = noiseArrayG[noiseIndex] * 255; // Green\n\t\t\t\t\tdata[i + 2] = noiseArrayB[noiseIndex] * 255; // Blue\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Put the modified image data back\n\t\t\tcontext.putImageData(imageData, 0, 0);\n\n\t\t\t// Update noise arrays for animation\n\t\t\tfor (let i = 0; i < noiseArrayR.length; i++) {\n\t\t\t\tnoiseArrayR[i] += (Math.random() - 0.5) * 0.1 * Animation;\n\t\t\t\tnoiseArrayG[i] += (Math.random() - 0.5) * 0.1 * Animation;\n\t\t\t\tnoiseArrayB[i] += (Math.random() - 0.5) * 0.1 * Animation;\n\t\t\t\tnoiseArrayR[i] = Math.max(0, Math.min(1, noiseArrayR[i]));\n\t\t\t\tnoiseArrayG[i] = Math.max(0, Math.min(1, noiseArrayG[i]));\n\t\t\t\tnoiseArrayB[i] = Math.max(0, Math.min(1, noiseArrayB[i]));\n\t\t\t}\n\n\t\t\t// Schedule the next frame\n\t\t\tanimationFrameId = requestAnimationFrame(() => {\n\t\t\t\tsetFrame((prev) => prev + 1);\n\n\t\t\t\t// Trigger a re-render\n\t\t\t\trender();\n\t\t\t});\n\t\t};\n\n\t\trender();\n\n\t\tonCleanup(() => cancelAnimationFrame(animationFrameId));\n\t});\n\n\treturn (\n\t\t<canvas\n\t\t\tref={canvasRef}\n\t\t\twidth={SizeX}\n\t\t\theight={SizeY}\n\t\t\tstyle={{ width: `${SizeX}px`, height: `${SizeY}px` }}\n\t\t/>\n\t);\n};\n"],"names":["Animated","Text","Font","SizeX","SizeY","Animation","canvasRef","setFrame","createSignal","onMount","canvas","context","getContext","animationFrameId","noiseArrayR","noiseArrayG","noiseArrayB","i","push","Math","random","render","clearRect","font","textBaseline","textAlign","fillStyle","fillText","imageData","getImageData","data","length","noiseIndex","floor","putImageData","max","min","requestAnimationFrame","prev","onCleanup","cancelAnimationFrame","_el$","_$getNextElement","_tmpl$","_ref$","_$use","style","setProperty","removeProperty"],"mappings":"oGAEA,MAAAA,EAAe,CAAC,CACfC,KAAAA,EACAC,KAAAA,EAAO,GACPC,MAAAA,EAAQ,IACRC,MAAAA,EAAQ,IACRC,UAAAA,EAAY,CAQb,IAAM,CAEDC,IAAAA,EAEJ,KAAM,EAAGC,CAAQ,EAAIC,EAAa,CAAC,EAEnCC,OAAAA,EAAQ,IAAM,CACb,MAAMC,EAASJ,EAEf,GAAI,CAACI,EACJ,OAGKC,MAAAA,EAAUD,EAAOE,WAAW,IAAI,EAElCC,IAAAA,EAEJ,MAAMC,EAAwB,CAAA,EACxBC,EAAwB,CAAA,EACxBC,EAAwB,CAAA,EAG9B,QAASC,EAAI,EAAGA,EAAId,EAAQC,EAAOa,IACtBC,EAAAA,KAAKC,KAAKC,OAAQ,CAAA,EAClBF,EAAAA,KAAKC,KAAKC,OAAQ,CAAA,EAClBF,EAAAA,KAAKC,KAAKC,OAAQ,CAAA,EAG/B,MAAMC,EAASA,IAAM,CACpBV,EAAQW,UAAU,EAAG,EAAGnB,EAAOC,CAAK,EAG5BmB,EAAAA,KAAO,GAAGrB,CAAI,WAEtBS,EAAQa,aAAe,SAEvBb,EAAQc,UAAY,SAGpBd,EAAQe,UAAY,QAEpBf,EAAQgB,SAAS1B,EAAME,EAAQ,EAAGC,EAAQ,CAAC,EAG3C,MAAMwB,EAAYjB,EAAQkB,aAAa,EAAG,EAAG1B,EAAOC,CAAK,EAEnD0B,EAAOF,EAAUE,KAGvB,QAASb,EAAI,EAAGA,EAAIa,EAAKC,OAAQd,GAAK,EACrC,GAAIa,EAAKb,EAAI,CAAC,EAAI,EAAG,CAEpB,MAAMe,EAAab,KAAKc,MAAMhB,EAAI,CAAC,EACnCa,EAAKb,CAAC,EAAIH,EAAYkB,CAAU,EAAI,IACpCF,EAAKb,EAAI,CAAC,EAAIF,EAAYiB,CAAU,EAAI,IACxCF,EAAKb,EAAI,CAAC,EAAID,EAAYgB,CAAU,EAAI,GACzC,CAIOE,EAAAA,aAAaN,EAAW,EAAG,CAAC,EAGpC,QAASX,EAAI,EAAGA,EAAIH,EAAYiB,OAAQd,IACvCH,EAAYG,CAAC,IAAME,KAAKC,OAAO,EAAI,IAAO,GAAMf,EAChDU,EAAYE,CAAC,IAAME,KAAKC,OAAO,EAAI,IAAO,GAAMf,EAChDW,EAAYC,CAAC,IAAME,KAAKC,OAAO,EAAI,IAAO,GAAMf,EACpCY,EAAAA,CAAC,EAAIE,KAAKgB,IAAI,EAAGhB,KAAKiB,IAAI,EAAGtB,EAAYG,CAAC,CAAC,CAAC,EAC5CA,EAAAA,CAAC,EAAIE,KAAKgB,IAAI,EAAGhB,KAAKiB,IAAI,EAAGrB,EAAYE,CAAC,CAAC,CAAC,EAC5CA,EAAAA,CAAC,EAAIE,KAAKgB,IAAI,EAAGhB,KAAKiB,IAAI,EAAGpB,EAAYC,CAAC,CAAC,CAAC,EAIzDJ,EAAmBwB,sBAAsB,IAAM,CACpCC,EAAAA,GAASA,EAAO,CAAC,EAGpBjB,GAAA,CACP,CAAA,EAGKA,IAEGkB,EAAA,IAAMC,qBAAqB3B,CAAgB,CAAC,CAAA,CACtD,GAED,IAAA,CAAA4B,IAAAA,EAAAC,EAAAC,CAAA,EAAAC,EAEOtC,EAAS,cAAAsC,GAAAC,WAAAA,EAAAD,EAAAH,CAAA,EAATnC,EAASmC,EAAAA,EAAAA,EAAA,QACPtC,CAAK,EAAAsC,EAAAA,EAAA,SACJrC,CAAK,EACG,GAAGD,CAAK,MAAI,KAAAsC,EAAAK,MAAAC,YAAZ,QAAA,GAAG5C,CAAK,IAAI,EAAAsC,EAAAK,MAAAE,eAAA,OAAA,EAAU,GAAG5C,CAAK,MAAI,KAAAqC,EAAAK,MAAAC,YAAZ,SAAA,GAAG3C,CAAK,IAAI,EAAAqC,EAAAK,MAAAE,eAAA,QAAA,EAAAP,CAAAA,IAGrD"}